"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2006],{2384:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"module-1-ros2/humanoid-urdf-models","title":"4. Describing Your Robot with URDF","description":"So far, we\'ve created abstract nodes that pass data around. But how do we tell ROS what our robot actually looks like? How do we define its shape, its joints, and how all its parts connect?","source":"@site/docs/module-1-ros2/4-humanoid-urdf-models.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/humanoid-urdf-models","permalink":"/physical-ai-book/docs/module-1-ros2/humanoid-urdf-models","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-ai-book/physical-ai-book/tree/main/docs/module-1-ros2/4-humanoid-urdf-models.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"4. Describing Your Robot with URDF","sidebar_label":"Humanoid URDF Models","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Controlling with rclpy","permalink":"/physical-ai-book/docs/module-1-ros2/rclpy-for-control"},"next":{"title":"AI Agents to Controllers","permalink":"/physical-ai-book/docs/module-1-ros2/ai-agents-to-controllers"}}');var s=i(4848),t=i(8453);const r={title:"4. Describing Your Robot with URDF",sidebar_label:"Humanoid URDF Models",sidebar_position:4},l="4. Describing Your Robot: The Unified Robot Description Format (URDF)",a={},d=[{value:"The Core Components of URDF: Links and Joints",id:"the-core-components-of-urdf-links-and-joints",level:2},{value:"Links",id:"links",level:3},{value:"Joints",id:"joints",level:3},{value:"Example: A Simple Two-Link Humanoid Arm",id:"example-a-simple-two-link-humanoid-arm",level:2},{value:"Breakdown of the Example",id:"breakdown-of-the-example",level:3},{value:"The Robot State Publisher and TF2",id:"the-robot-state-publisher-and-tf2",level:2}];function h(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"4-describing-your-robot-the-unified-robot-description-format-urdf",children:"4. Describing Your Robot: The Unified Robot Description Format (URDF)"})}),"\n",(0,s.jsxs)(n.p,{children:["So far, we've created abstract nodes that pass data around. But how do we tell ROS what our robot actually ",(0,s.jsx)(n.em,{children:"looks"})," like? How do we define its shape, its joints, and how all its parts connect?"]}),"\n",(0,s.jsxs)(n.p,{children:["The answer is the ",(0,s.jsx)(n.strong,{children:"Unified Robot Description Format (URDF)"}),". URDF is an XML-based file format used in ROS to describe all the physical elements of a robot."]}),"\n",(0,s.jsx)(n.p,{children:"A URDF file defines:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The size and shape of each part of the robot."}),"\n",(0,s.jsx)(n.li,{children:"The visual appearance of each part (color, texture)."}),"\n",(0,s.jsx)(n.li,{children:"The physical properties of each part (mass, inertia)."}),"\n",(0,s.jsx)(n.li,{children:"The relationship between the parts (how they are connected and how they move)."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Two ROS tools, ",(0,s.jsx)(n.strong,{children:"RViz"})," and ",(0,s.jsx)(n.strong,{children:"Gazebo"}),", can parse a URDF file to create a 3D visualization or simulation of your robot."]}),"\n",(0,s.jsx)(n.h2,{id:"the-core-components-of-urdf-links-and-joints",children:"The Core Components of URDF: Links and Joints"}),"\n",(0,s.jsxs)(n.p,{children:["A URDF model is a tree of ",(0,s.jsx)(n.strong,{children:"links"})," connected by ",(0,s.jsx)(n.strong,{children:"joints"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"links",children:"Links"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"link"})," represents a rigid part of the robot. It has physical properties and a shape."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"<visual>"})}),": Defines what the link looks like (shape, color). This is used by visualization tools like RViz."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"<collision>"})}),": Defines the collision geometry of the link. This is used by physics engines like Gazebo to simulate contact. It's often a simpler shape than the visual one for performance."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"<inertial>"})}),": Defines the dynamic properties of the link, such as its mass and inertia tensor."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"joints",children:"Joints"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"joint"})," connects two links and defines how they can move relative to each other."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"parent"})})," and ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"child"})}),": A joint connects one parent link to one child link, forming the tree structure."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"type"})}),": The type of motion the joint allows. Common types include:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"revolute"})}),": A hinge joint that rotates around a single axis (like an elbow)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"continuous"})}),": A revolute joint with no angle limits (like a wheel)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"prismatic"})}),": A sliding joint that moves along an axis (like a piston)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"fixed"})}),": A rigid connection between two links with no movement."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-a-simple-two-link-humanoid-arm",children:"Example: A Simple Two-Link Humanoid Arm"}),"\n",(0,s.jsx)(n.p,{children:"Let's look at a simple URDF for a robot arm with a shoulder and an elbow."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_humanoid_arm">\n\n  \x3c!-- Base Link (e.g., the robot\'s torso) --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.1 0.1 0.5" />\n      </geometry>\n      <origin xyz="0 0 0.25" rpy="0 0 0" />\n      <material name="grey">\n        <color rgba="0.5 0.5 0.5 1.0" />\n      </material>\n    </visual>\n  </link>\n\n  \x3c!-- Shoulder Joint --\x3e\n  <joint name="shoulder_joint" type="revolute">\n    <parent link="base_link" />\n    <child link="upper_arm_link" />\n    <origin xyz="0 0 0.5" rpy="0 0 0" />\n    <axis xyz="0 1 0" />\n    <limit lower="-1.57" upper="1.57" effort="10.0" velocity="1.0" />\n  </joint>\n\n  \x3c!-- Upper Arm Link --\x3e\n  <link name="upper_arm_link">\n    <visual>\n      <geometry>\n        <cylinder length="0.4" radius="0.04" />\n      </geometry>\n      <origin xyz="0 0 -0.2" rpy="0 0 0" />\n      <material name="blue">\n        <color rgba="0.0 0.0 1.0 1.0" />\n      </material>\n    </visual>\n  </link>\n\n  \x3c!-- Elbow Joint --\x3e\n  <joint name="elbow_joint" type="revolute">\n    <parent link="upper_arm_link" />\n    <child link="forearm_link" />\n    <origin xyz="0 0 -0.4" rpy="0 0 0" />\n    <axis xyz="0 1 0" />\n    <limit lower="-1.57" upper="1.57" effort="10.0" velocity="1.0" />\n  </joint>\n\n  \x3c!-- Forearm Link --\x3e\n  <link name="forearm_link">\n    <visual>\n      <geometry>\n        <cylinder length="0.3" radius="0.03" />\n      </geometry>\n      <origin xyz="0 0 -0.15" rpy="0 0 0" />\n      <material name="grey" />\n    </visual>\n  </link>\n\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"breakdown-of-the-example",children:"Breakdown of the Example"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"base_link"})}),": This is our root link, a simple grey box representing the torso."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"shoulder_joint"})}),": This is a ",(0,s.jsx)(n.code,{children:"revolute"})," joint that connects the ",(0,s.jsx)(n.code,{children:"base_link"})," (parent) to the ",(0,s.jsx)(n.code,{children:"upper_arm_link"})," (child). It rotates around the Y-axis (",(0,s.jsx)(n.code,{children:'<axis xyz="0 1 0" />'}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"upper_arm_link"})}),": A blue cylinder representing the bicep."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"elbow_joint"})}),": Another ",(0,s.jsx)(n.code,{children:"revolute"})," joint connecting the ",(0,s.jsx)(n.code,{children:"upper_arm_link"})," to the ",(0,s.jsx)(n.code,{children:"forearm_link"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"forearm_link"})}),": A smaller grey cylinder for the forearm."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"the-robot-state-publisher-and-tf2",children:"The Robot State Publisher and TF2"}),"\n",(0,s.jsx)(n.p,{children:"Writing a URDF file is just the first step. To make it useful, you need a ROS node to parse it and publish the state of the robot."}),"\n",(0,s.jsxs)(n.p,{children:["This is the job of the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"robot_state_publisher"})})," node. This node reads the URDF, subscribes to the ",(0,s.jsx)(n.code,{children:"/joint_states"})," topic (which contains the current angle of all the joints), and then publishes the 3D poses of all the robot's links."]}),"\n",(0,s.jsxs)(n.p,{children:["It publishes this information using ROS's transformation library, ",(0,s.jsx)(n.strong,{children:"TF2"}),". TF2 keeps track of the coordinate frames of every part of the robot. For example, it knows where the ",(0,s.jsx)(n.code,{children:"forearm_link"})," is relative to the ",(0,s.jsx)(n.code,{children:"base_link"})," at any given moment."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[Joint State Publisher Node] -- /joint_states --\x3e B(robot_state_publisher);\n    C{URDF File} -- Is read by --\x3e B;\n    B -- /tf & /tf_static --\x3e D[Other ROS Nodes, e.g., RViz];\n"})}),"\n",(0,s.jsxs)(n.p,{children:["By using the ",(0,s.jsx)(n.code,{children:"robot_state_publisher"}),' and TF2, any other node in your system can ask, "Where is the robot\'s hand right now?" without having to do any of the math itself.']}),"\n",(0,s.jsxs)(n.p,{children:["In the next chapter, we'll connect our ",(0,s.jsx)(n.code,{children:"rclpy"})," nodes to this system to actually control the joints we've defined here."]})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var o=i(6540);const s={},t=o.createContext(s);function r(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);
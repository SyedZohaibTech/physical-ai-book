"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1599],{980:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"module-4-vla/exercises","title":"6. Module 4 Exercises","description":"These exercises will challenge you to build and integrate the Vision-Language-Action (VLA) pipeline components we\'ve discussed.","source":"@site/docs/module-4-vla/6-exercises.md","sourceDirName":"module-4-vla","slug":"/module-4-vla/exercises","permalink":"/physical-ai-book/docs/module-4-vla/exercises","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-ai-book/physical-ai-book/tree/main/docs/module-4-vla/6-exercises.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"6. Module 4 Exercises","sidebar_label":"Exercises","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Integrating VLA","permalink":"/physical-ai-book/docs/module-4-vla/integrating-vla"},"next":{"title":"Project Walkthrough","permalink":"/physical-ai-book/docs/capstone-project/project-walkthrough"}}');var s=i(4848),c=i(8453);const t={title:"6. Module 4 Exercises",sidebar_label:"Exercises",sidebar_position:6},r="6. Module 4 Exercises",d={},l=[{value:"Exercise 1: Customize Your Whisper Node",id:"exercise-1-customize-your-whisper-node",level:2},{value:"Exercise 2: Extend the Mock LLM Planner",id:"exercise-2-extend-the-mock-llm-planner",level:2},{value:"Exercise 3: Implement a Custom Action Skill",id:"exercise-3-implement-a-custom-action-skill",level:2},{value:"Exercise 4 (Advanced): Basic Object Detection Integration",id:"exercise-4-advanced-basic-object-detection-integration",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"6-module-4-exercises",children:"6. Module 4 Exercises"})}),"\n",(0,s.jsx)(n.p,{children:"These exercises will challenge you to build and integrate the Vision-Language-Action (VLA) pipeline components we've discussed."}),"\n",(0,s.jsx)(n.h2,{id:"exercise-1-customize-your-whisper-node",children:"Exercise 1: Customize Your Whisper Node"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),": Modify the ",(0,s.jsx)(n.code,{children:"whisper_node.py"})," to change its audio capture duration and the Whisper model it uses."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open ",(0,s.jsx)(n.code,{children:"whisper_node.py"})," from Chapter 2."]}),"\n",(0,s.jsxs)(n.li,{children:["Modify the node's parameters (e.g., ",(0,s.jsx)(n.code,{children:"audio_duration"}),", ",(0,s.jsx)(n.code,{children:"whisper_model"}),") either directly in the code or by launching the node with ",(0,s.jsx)(n.code,{children:"ros2 run"})," and passing arguments:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 run voice_command_pkg whisper_node --ros-args -p audio_duration:=5.0 -p whisper_model:='tiny'\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify"}),": Confirm the node now records for 5 seconds (or your chosen duration) and, if you chose a smaller model like 'tiny', you might notice a slight change in transcription accuracy or speed."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exercise-2-extend-the-mock-llm-planner",children:"Exercise 2: Extend the Mock LLM Planner"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),": Add new command-action mappings to your ",(0,s.jsx)(n.code,{children:"mock_llm_planner.py"}),"."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open ",(0,s.jsx)(n.code,{children:"mock_llm_planner.py"})," from Chapter 3."]}),"\n",(0,s.jsxs)(n.li,{children:["Add at least two new natural language commands and their corresponding action sequences. For example:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:['"Find the book and tell me where it is." -> ',(0,s.jsx)(n.code,{children:'["say(The book is over there.)", "find_object(book)"]'})," (you don't have to implement ",(0,s.jsx)(n.code,{children:"find_object"})," yet, just make it an action string)."]}),"\n",(0,s.jsxs)(n.li,{children:['"Dance for me." -> ',(0,s.jsx)(n.code,{children:'["perform_dance_routine()"]'})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Rebuild your ",(0,s.jsx)(n.code,{children:"llm_planner_pkg"})," package."]}),"\n",(0,s.jsxs)(n.li,{children:["Run your ",(0,s.jsx)(n.code,{children:"mock_llm_planner"})," node."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify"}),": Use ",(0,s.jsx)(n.code,{children:"ros2 service call /get_action_plan custom_interfaces/srv/GetActionPlan \"command: 'Your new command here.'\""})," and check if the returned ",(0,s.jsx)(n.code,{children:"action_plan"})," is as expected."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exercise-3-implement-a-custom-action-skill",children:"Exercise 3: Implement a Custom Action Skill"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),": Extend the ",(0,s.jsx)(n.code,{children:"ActionExecutor"})," to handle a new custom robot skill."]}),"\n",(0,s.jsxs)(n.p,{children:["This exercise builds on Exercise 2. Let's assume you added ",(0,s.jsx)(n.code,{children:"perform_dance_routine()"})," as a new action."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open ",(0,s.jsx)(n.code,{children:"executor_node.py"})," from Chapter 4."]}),"\n",(0,s.jsxs)(n.li,{children:["Add a new ",(0,s.jsx)(n.code,{children:"elif"})," block in the ",(0,s.jsx)(n.code,{children:"voice_command_callback"})," loop to detect your new action."]}),"\n",(0,s.jsxs)(n.li,{children:["Implement a new ",(0,s.jsx)(n.code,{children:"async"})," function, for example, ",(0,s.jsx)(n.code,{children:"execute_dance_routine(self)"}),". For now, this function can simply print a message like ",(0,s.jsx)(n.code,{children:'self.get_logger().info("Robot is dancing!")'})," and publish to your ",(0,s.jsx)(n.code,{children:"/robot_speech"}),' topic to say "I am dancing!". In a real robot, this would trigger a complex movement sequence.']}),"\n",(0,s.jsxs)(n.li,{children:["Rebuild your ",(0,s.jsx)(n.code,{children:"action_executor_pkg"})," package."]}),"\n",(0,s.jsx)(n.li,{children:"Run all necessary nodes: Whisper, Mock LLM, and Action Executor."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify"}),': Speak your new command ("Dance for me!") into the microphone. Check the logs of the ',(0,s.jsx)(n.code,{children:"action_executor"})," node and the ",(0,s.jsx)(n.code,{children:"/robot_speech"})," topic."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exercise-4-advanced-basic-object-detection-integration",children:"Exercise 4 (Advanced): Basic Object Detection Integration"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),": Simulate a basic object detection system and integrate it with your ",(0,s.jsx)(n.code,{children:"ActionExecutor"}),"."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create a mock object detector node"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a new Python ROS 2 node, say ",(0,s.jsx)(n.code,{children:"mock_object_detector.py"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["This node should periodically publish a ",(0,s.jsx)(n.code,{children:"geometry_msgs/msg/PoseStamped"})," message to a ",(0,s.jsx)(n.code,{children:"/detected_objects"})," topic. The message's ",(0,s.jsx)(n.code,{children:"header.frame_id"})," could be 'base_link', and its ",(0,s.jsx)(n.code,{children:"pose.position"})," could represent a known object's location (e.g., ",(0,s.jsx)(n.code,{children:"x=1.0, y=0.5, z=0.0"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Publish a ",(0,s.jsx)(n.code,{children:"std_msgs/msg/String"})," message alongside this, e.g., ",(0,s.jsx)(n.code,{children:"/detected_object_name"})," with ",(0,s.jsx)(n.code,{children:'data: "mug"'}),". (For simplicity, assume it only detects one object type)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Modify ",(0,s.jsx)(n.code,{children:"ActionExecutor"})]}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Open ",(0,s.jsx)(n.code,{children:"executor_node.py"})," from Chapter 5."]}),"\n",(0,s.jsxs)(n.li,{children:["Subscribe to the ",(0,s.jsx)(n.code,{children:"/detected_objects"})," and ",(0,s.jsx)(n.code,{children:"/detected_object_name"})," topics. Store the latest detected object's name and pose in internal variables."]}),"\n",(0,s.jsxs)(n.li,{children:['Add a new action to your mock LLM, e.g., "pick up the object." -> ',(0,s.jsx)(n.code,{children:'["pick_up_detected_object()"]'}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Implement ",(0,s.jsx)(n.code,{children:"async def execute_pick_up_detected_object(self)"})," in ",(0,s.jsx)(n.code,{children:"ActionExecutor"}),". This function should retrieve the stored detected object's pose and simulate sending a manipulation command (e.g., print a message with the pose)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Run the ",(0,s.jsx)(n.code,{children:"mock_object_detector"}),", Whisper, Mock LLM, and Action Executor nodes."]}),"\n",(0,s.jsx)(n.li,{children:'Speak "Pick up the object."'}),"\n",(0,s.jsxs)(n.li,{children:["Observe the ",(0,s.jsx)(n.code,{children:"ActionExecutor"}),' logs to see if it correctly identifies and "picks up" the object at the simulated detected pose.']}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"This concludes the VLA module. These exercises demonstrate how the power of language models can be combined with visual perception and robot control to create intelligent, adaptable robotic agents. In the final capstone project, we will bring all these modules together to build a complete autonomous humanoid."})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var o=i(6540);const s={},c=o.createContext(s);function t(e){const n=o.useContext(c);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(c.Provider,{value:n},e.children)}}}]);
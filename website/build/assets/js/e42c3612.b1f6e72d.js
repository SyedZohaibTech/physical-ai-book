"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[59],{7561:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"module-2-digital-twin/exercises","title":"6. Module 2 Exercises","description":"These exercises will help you master the fundamentals of creating and interacting with robotic simulations in Gazebo. You will need a working ROS 2 and Gazebo installation to complete them.","source":"@site/docs/module-2-digital-twin/6-exercises.md","sourceDirName":"module-2-digital-twin","slug":"/module-2-digital-twin/exercises","permalink":"/physical-ai-book/docs/module-2-digital-twin/exercises","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-ai-book/physical-ai-book/tree/main/docs/module-2-digital-twin/6-exercises.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"6. Module 2 Exercises","sidebar_label":"Exercises","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Complete Humanoid Simulation","permalink":"/physical-ai-book/docs/module-2-digital-twin/complete-humanoid-simulation"},"next":{"title":"Intro to Isaac","permalink":"/physical-ai-book/docs/module-3-isaac/intro-to-isaac"}}');var s=i(4848),l=i(8453);const r={title:"6. Module 2 Exercises",sidebar_label:"Exercises",sidebar_position:6},a="6. Module 2 Exercises",t={},d=[{value:"Exercise 1: Build a World",id:"exercise-1-build-a-world",level:2},{value:"Exercise 2: Spawn a Robot",id:"exercise-2-spawn-a-robot",level:2},{value:"Exercise 3: Add a Camera Sensor",id:"exercise-3-add-a-camera-sensor",level:2},{value:"Exercise 4 (Advanced): Closed-Loop Control",id:"exercise-4-advanced-closed-loop-control",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"6-module-2-exercises",children:"6. Module 2 Exercises"})}),"\n",(0,s.jsx)(n.p,{children:"These exercises will help you master the fundamentals of creating and interacting with robotic simulations in Gazebo. You will need a working ROS 2 and Gazebo installation to complete them."}),"\n",(0,s.jsx)(n.h2,{id:"exercise-1-build-a-world",children:"Exercise 1: Build a World"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),': Create a simple "world" file for Gazebo that contains a ground plane and a few basic shapes.']}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["An SDF world file is a simple XML file. Create a new file named ",(0,s.jsx)(n.code,{children:"my_world.sdf"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Start with the basic structure:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.6">\n  <world name="default">\n    \x3c!-- We will add objects here --\x3e\n  </world>\n</sdf>\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Add a ground plane. This is essential for most simulations.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<include>\n  <uri>model://ground_plane</uri>\n</include>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Add a light source.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<include>\n  <uri>model://sun</uri>\n</include>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Now, add a static (non-moving) box to the world. You'll need to define its ",(0,s.jsx)(n.code,{children:"pose"})," (position and orientation) and its ",(0,s.jsx)(n.code,{children:"link"})," with ",(0,s.jsx)(n.code,{children:"collision"})," and ",(0,s.jsx)(n.code,{children:"visual"})," properties.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<model name="box_obstacle">\n  <static>true</static>\n  <pose>2.0 0.0 0.5 0 0 0</pose>\n  <link name="link">\n    <collision name="collision">\n      <geometry><box><size>1 1 1</size></box></geometry>\n    </collision>\n    <visual name="visual">\n      <geometry><box><size>1 1 1</size></box></geometry>\n    </visual>\n  </link>\n</model>\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Launch it!"})," You can load your world directly with Gazebo:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gazebo my_world.sdf\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify"}),": You should see a world with a ground plane and a floating box. Try adding other shapes like spheres and cylinders."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exercise-2-spawn-a-robot",children:"Exercise 2: Spawn a Robot"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),": Use a ROS 2 launch file to start Gazebo and automatically spawn your robot URDF into the simulation."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Make sure your robot's URDF file from Module 1 has been updated to include ",(0,s.jsx)(n.code,{children:"<collision>"})," and ",(0,s.jsx)(n.code,{children:"<inertial>"})," tags for each link."]}),"\n",(0,s.jsxs)(n.li,{children:["Create a ROS 2 launch file (e.g., ",(0,s.jsx)(n.code,{children:"spawn_robot.launch.py"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Inside the launch file, you will need to:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Include the ",(0,s.jsx)(n.code,{children:"Gazebo.launch.py"})," launch file from the ",(0,s.jsx)(n.code,{children:"gazebo_ros"})," package."]}),"\n",(0,s.jsxs)(n.li,{children:["Start a ",(0,s.jsx)(n.code,{children:"robot_state_publisher"})," node that is configured to use your robot's URDF."]}),"\n",(0,s.jsxs)(n.li,{children:["Start a ",(0,s.jsx)(n.code,{children:"spawn_entity.py"})," node from the ",(0,s.jsx)(n.code,{children:"gazebo_ros"})," package. This node will call the ",(0,s.jsx)(n.code,{children:"/spawn_entity"})," service to add your robot to the simulation."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Run your launch file"}),":","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 launch your_package_name spawn_robot.launch.py\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify"}),": Gazebo should launch, and your robot arm model should appear in the world. Check the ROS 2 topics to see ",(0,s.jsx)(n.code,{children:"/tf"})," and other topics being published."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exercise-3-add-a-camera-sensor",children:"Exercise 3: Add a Camera Sensor"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),": Add a camera to your robot's URDF and view its output in RViz."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Edit your robot's URDF file (or a copy of it)."}),"\n",(0,s.jsxs)(n.li,{children:["Following the example in Chapter 4, add a ",(0,s.jsx)(n.code,{children:"<sensor>"})," block for a camera and the ",(0,s.jsx)(n.code,{children:"libgazebo_ros_camera.so"})," plugin. Attach it to one of your robot's links."]}),"\n",(0,s.jsx)(n.li,{children:"Relaunch the simulation using the launch file from Exercise 2, making sure it's using your new URDF file."}),"\n",(0,s.jsxs)(n.li,{children:["In a new terminal, start RViz:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rviz2\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:['In RViz, click the "Add" button and choose "By topic". Find the image topic that your camera plugin is publishing (e.g., ',(0,s.jsx)(n.code,{children:"/camera/image_raw"}),") and add it."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify"}),": You should see a new window in RViz showing the view from your robot's simulated camera. Move objects in front of the robot in Gazebo and see them appear in the RViz view."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"exercise-4-advanced-closed-loop-control",children:"Exercise 4 (Advanced): Closed-Loop Control"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),": Combine everything to control the robot in Gazebo using your own publisher node."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["You will need to install and configure ",(0,s.jsx)(n.code,{children:"ros2_control"})," for Gazebo. This is a complex topic, and you should follow the official ",(0,s.jsx)(n.code,{children:"gazebo_ros2_control"})," tutorials."]}),"\n",(0,s.jsxs)(n.li,{children:["Your goal is to create a launch file that starts:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Gazebo with your world."}),"\n",(0,s.jsx)(n.li,{children:"Your robot, spawned into Gazebo."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"ros2_control"})," plugins and controllers (",(0,s.jsx)(n.code,{children:"joint_state_broadcaster"})," and ",(0,s.jsx)(n.code,{children:"joint_trajectory_controller"}),")."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Write a simple Python script that sends a goal to the ",(0,s.jsx)(n.code,{children:"joint_trajectory_controller"}),"'s action server (",(0,s.jsx)(n.code,{children:"/follow_joint_trajectory"}),"). The goal should command the arm to move to a specific position."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify"}),": When you run your Python script, you should see the robot arm move to the commanded position in Gazebo."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"These exercises provide a glimpse into the powerful capabilities of modern robotics simulation. Having a robust digital twin is an essential skill for any robotics engineer. In the next module, we will begin to give our simulated robot a true AI brain."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var o=i(6540);const s={},l=o.createContext(s);function r(e){const n=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);